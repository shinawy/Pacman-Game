void Game::loop(Player player,Ghost Blinky,Ghost Pinky, Ghost Inky, Ghost Clyde){
	Event e;
	
	

	while (window.isOpen())
	{
		
		while (window.pollEvent(e))
		{
			if (e.type == Event::Closed)
				window.close();
			else if (e.type == Event::KeyPressed)
			{
				switch (e.key.code)
				{
				case Keyboard::Up:
					player.move('U', arr);
					if (increaseScore(player)) // check if the place he is going to contains bullets or not and accordingly increase the score or not.
					{
						Blinky.setMode('f');
						Pinky.setMode('f');
						Inky.setMode('f');
						Clyde.setMode('f');
					}
					break;
				
				case Keyboard::Down:
					player.move('D', arr);
					if (increaseScore(player)) // check if the place he is going to contains bullets or not and accordingly increase the score or not.
					{
						Blinky.setMode('f');
						Pinky.setMode('f');
						Inky.setMode('f');
						Clyde.setMode('f');
					}
					break;
			
				case Keyboard::Right:
					player.move('R', arr);
					if (increaseScore(player)) // check if the place he is going to contains bullets or not and accordingly increase the score or not.
					{
						Blinky.setMode('f');
						Pinky.setMode('f');
						Inky.setMode('f');
						Clyde.setMode('f');
					}
					break;

				case Keyboard::Left:
					player.move('L', arr);
					if (increaseScore(player)) // check if the place he is going to contains bullets or not and accordingly increase the score or not.
					{
						Blinky.setMode('f');
						Pinky.setMode('f');
						Inky.setMode('f');
						Clyde.setMode('f');
					}
					break;
				}
			}
		}
		
		if (player.getPlayerPosition() == Blinky.getPlayerPosition() || player.getPlayerPosition() == Pinky.getPlayerPosition()
			|| player.getPlayerPosition() == Inky.getPlayerPosition()
			|| player.getPlayerPosition() == Clyde.getPlayerPosition()) {
			if (Blinky.getMode()=='n') {

				if (lives != 0) {
					lives--;
					window.clear();
					for (int i = 0; i < 82; i++)
						for (int j = 0; j < 73; j++)
							window.draw(board[i][j]);
					player.drawPlayer(window);
					Blinky.drawPlayer(window);
						Pinky.drawPlayer(window);
						Inky.drawPlayer(window);
						Clyde.drawPlayer(window);
					displayScore(); displayLives();
					window.display();
				}

				else {
					gameover();
				}
			
			}
			else {
				score += 200;

				if (player.getPlayerPosition() == Blinky.getPlayerPosition()) Blinky.setPosition(300,410);
					if (player.getPlayerPosition() == Pinky.getPlayerPosition()) Pinky.setPosition(330,410);
					if (player.getPlayerPosition() == Inky.getPlayerPosition()) Inky.setPosition(360,410);
					if (player.getPlayerPosition() == Clyde.getPlayerPosition()) Clyde.setPosition(390,410);  // returns them to their initial position
			
					window.clear();
					for (int i = 0; i < 82; i++)
						for (int j = 0; j < 73; j++) {
							window.draw(board[i][j]);
							window.draw(circboard[i][j]);
						}
					player.drawPlayer(window);
					Blinky.drawPlayer(window);
					Pinky.drawPlayer(window);
					Inky.drawPlayer(window);
					Clyde.drawPlayer(window);
					displayScore(); displayLives();
					window.display();
			}
			}



			
		}
		
}